# Hyprland Kiosk Configuration - Optimized for GPU Acceleration
# Designed for stable kiosk operation with ANGLE support

monitor=,preferred,auto,1

general {
    border_size = 0
    layout = dwindle
    gaps_in = 0
    gaps_out = 0
}

decoration {
    rounding = 0
    blur {
        enabled = false
    }
    shadow {
        enabled = false
    }
}

input {
    kb_layout = us
    follow_mouse = 0
    sensitivity = 0
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    force_default_wallpaper = 0
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    enable_swallow = false
    vrr = 0
    # Prevent window management crashes in kiosk mode
    new_window_takes_over_fullscreen = 0
}

animations {
    enabled = false
}

cursor {
    no_hardware_cursors = true
    inactive_timeout = 8
}

# XWayland disabled - using native Wayland with ozone-platform
xwayland {
    enabled = false
}

# No key bindings defined for kiosk mode - prevents accidental interactions

# Dwindle layout configuration for stable kiosk operation
dwindle {
    # Prevent crashes during window operations
    preserve_split = true
    smart_split = false
    smart_resizing = false
    pseudotile = false
    # Force simple window management for kiosk
    force_split = 2
}

# Window rules for browser stability
windowrulev2 = float,class:^(chromium)$
windowrulev2 = size 100% 100%,class:^(chromium)$
windowrulev2 = center,class:^(chromium)$
windowrulev2 = nofocus,class:^(chromium)$

# No auto-exec - browser launched by separate systemd service
# This ensures compositor and browser can restart independently
